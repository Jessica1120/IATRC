<div ng-include="'views/partials/nav.html'"></div>
<div ng-include="'views/partials/meetingsNav.html'"></div>
<div class="container">
    <div class="row">
        <div class="col-md-6"  ng-init="ic.viewMeetings()" >
        <div ng-hide="selected" ng-click="selected=!selected">   <div ng-repeat="meeting in ic.allMeetings.data" class="meetingItem">
                <div ng-click="ic.getMeeting(meeting.id)">
                   {{meeting.month}} {{meeting.topic}}
                    
                </div>
            </div> <!-- end ng-repeat meeting -->
        </div> 
        </div> 
        <div class="col-md-6" ng-hide="!selected">
            <div ng-hide="edit" class="editMeeting">
                {{ic.meetingToEdit.data[0].type}}<br>
                {{ic.meetingToEdit.data[0].topic}}<br>
                {{ic.meetingToEdit.data[0].month}}<br>
                {{ic.meetingToEdit.data[0].year}}<br>
                Participants: <div ng-repeat="participant in ic.meetingToEdit.data">
                        {{participant.last_name}}, {{participant.first_name}}
                        </div>                     
                <div ng-click="edit=!edit"><button ng-click="ic.getMembers(ic.meetingToEdit.data[0].meetings_id)">Edit</button></div>
                <div ng-click="selected=!selected"><button ng-click="ic.deleteMeeting(ic.meetingToEdit.data[0].meetings_id)">Delete</button></div>
                <button ng-click="selected=!selected">Back</button>
            </div>   
                    
            <div ng-hide="!edit" class="editMeeting">
                <div>
                Type: <input class="input" type="text" placeholder="{{ic.meetingToEdit.data[0].type}}" ng-model="ic.editTypeIn"><br>
                Topic: <input class="input" type="text" placeholder="{{ic.meetingToEdit.data[0].topic}}" ng-model="ic.editTopicIn"><br>
                Month: <input class="input" type="text" placeholder="{{ic.meetingToEdit.data[0].month}}" ng-model="ic.editMonthIn"><br>
                Year: <input class="input" type="text" placeholder="{{ic.meetingToEdit.data[0].year}}" ng-model="ic.editYearIn"><br>
                </div>
                Participants: <div ng-repeat="participant in ic.meetingToEdit.data">
                   <input type="checkbox" ng-model="participant.Selected" ng-init="participant.Selected=true"> 
                   {{participant.last_name}}, {{participant.first_name}}                         
                </div>
                        <div ng-repeat="member in ic.allMembers.data">
                        <input type="checkbox" ng-model="member.Selected" ng-init="member.Selected=false"> 
                        {{member.last_name}}, {{member.first_name}} 
                        </div>
                <div ng-click="selected=!selected">
                    <div ng-click="edit=!edit">
                <button type="button" ng-click="ic.saveEditMeeting(ic.meetingToEdit.data[0].meetings_id)">Save</button>
            </div>
            </div>
                
                <button type="button" ng-click="edit=!edit">Cancel</button>
                </div>
                        
                    </div>

           </div>
        </div>

        

    </div>